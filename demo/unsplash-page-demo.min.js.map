{"version":3,"file":"unsplash-page-demo.min.js","sources":["../src/src/img-breakpoints.js","../node_modules/blurhash/dist/index.mjs","../src/unsplash-page.js","../src/src/fetch-unsplash-data.js","demo.js"],"sourcesContent":["export const breakpoints = [\n  {\n    name: 'xxl',\n    mq: '(min-width: 1400px)',\n    w: 1920,\n    h: 1080,\n    dpr2: false\n  },\n  {\n    name: 'xl',\n    mq: '(min-width: 1200px) and (max-width: 1399px)',\n    w: 1400,\n    h: 788,\n    dpr2: false\n  },\n  {\n    name: 'lg',\n    mq: '(min-width: 992px) and (max-width: 1199px)',\n    w: 1200,\n    h: 675,\n    dpr2: false\n  },\n  {\n    name: 'md',\n    ar: '16/9',\n    mq: '(min-width: 768px) and (max-width: 991px)',\n    w: 992,\n    h: 558,\n    dpr2: true\n  },\n  {\n    name: 'sm',\n    ar: '16/9',\n    mq: '(min-width: 576px) and (max-width: 767px)',\n    w: 768,\n    h: 432,\n    dpr2: true\n  },\n  {\n    name: 'xs-portrait',\n    ar: '16/9',\n    mq: '(orientation: portrait) and (max-width: 575px)',\n    w: 324,\n    h: 576,\n    dpr2: true\n  },\n  {\n    name: 'xs-landscape',\n    ar: '16/9',\n    mq: '(orientation: landscape) and (max-width: 575px)',\n    w: 576,\n    h: 324,\n    dpr2: true\n  }\n];\n","var q=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\",\"h\",\"i\",\"j\",\"k\",\"l\",\"m\",\"n\",\"o\",\"p\",\"q\",\"r\",\"s\",\"t\",\"u\",\"v\",\"w\",\"x\",\"y\",\"z\",\"#\",\"$\",\"%\",\"*\",\"+\",\",\",\"-\",\".\",\":\",\";\",\"=\",\"?\",\"@\",\"[\",\"]\",\"^\",\"_\",\"{\",\"|\",\"}\",\"~\"],x=t=>{let e=0;for(let r=0;r<t.length;r++){let n=t[r],l=q.indexOf(n);e=e*83+l}return e},p=(t,e)=>{var r=\"\";for(let n=1;n<=e;n++){let l=Math.floor(t)/Math.pow(83,e-n)%83;r+=q[Math.floor(l)]}return r};var f=t=>{let e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},h=t=>{let e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.trunc(e*12.92*255+.5):Math.trunc((1.055*Math.pow(e,.4166666666666667)-.055)*255+.5)},F=t=>t<0?-1:1,M=(t,e)=>F(t)*Math.pow(Math.abs(t),e);var d=class extends Error{constructor(e){super(e),this.name=\"ValidationError\",this.message=e}};var C=t=>{if(!t||t.length<6)throw new d(\"The blurhash string must be at least 6 characters\");let e=x(t[0]),r=Math.floor(e/9)+1,n=e%9+1;if(t.length!==4+2*n*r)throw new d(`blurhash length mismatch: length is ${t.length} but it should be ${4+2*n*r}`)},N=t=>{try{C(t)}catch(e){return{result:!1,errorReason:e.message}}return{result:!0}},z=t=>{let e=t>>16,r=t>>8&255,n=t&255;return[f(e),f(r),f(n)]},L=(t,e)=>{let r=Math.floor(t/361),n=Math.floor(t/19)%19,l=t%19;return[M((r-9)/9,2)*e,M((n-9)/9,2)*e,M((l-9)/9,2)*e]},U=(t,e,r,n)=>{C(t),n=n|1;let l=x(t[0]),m=Math.floor(l/9)+1,b=l%9+1,i=(x(t[1])+1)/166,u=new Array(b*m);for(let o=0;o<u.length;o++)if(o===0){let a=x(t.substring(2,6));u[o]=z(a)}else{let a=x(t.substring(4+o*2,6+o*2));u[o]=L(a,i*n)}let c=e*4,s=new Uint8ClampedArray(c*r);for(let o=0;o<r;o++)for(let a=0;a<e;a++){let y=0,B=0,R=0;for(let w=0;w<m;w++)for(let P=0;P<b;P++){let G=Math.cos(Math.PI*a*P/e)*Math.cos(Math.PI*o*w/r),T=u[P+w*b];y+=T[0]*G,B+=T[1]*G,R+=T[2]*G}let V=h(y),I=h(B),E=h(R);s[4*a+0+o*c]=V,s[4*a+1+o*c]=I,s[4*a+2+o*c]=E,s[4*a+3+o*c]=255}return s},j=U;var A=4,D=(t,e,r,n)=>{let l=0,m=0,b=0,g=e*A;for(let u=0;u<e;u++){let c=A*u;for(let s=0;s<r;s++){let o=c+s*g,a=n(u,s);l+=a*f(t[o]),m+=a*f(t[o+1]),b+=a*f(t[o+2])}}let i=1/(e*r);return[l*i,m*i,b*i]},$=t=>{let e=h(t[0]),r=h(t[1]),n=h(t[2]);return(e<<16)+(r<<8)+n},H=(t,e)=>{let r=Math.floor(Math.max(0,Math.min(18,Math.floor(M(t[0]/e,.5)*9+9.5)))),n=Math.floor(Math.max(0,Math.min(18,Math.floor(M(t[1]/e,.5)*9+9.5)))),l=Math.floor(Math.max(0,Math.min(18,Math.floor(M(t[2]/e,.5)*9+9.5))));return r*19*19+n*19+l},O=(t,e,r,n,l)=>{if(n<1||n>9||l<1||l>9)throw new d(\"BlurHash must have between 1 and 9 components\");if(e*r*4!==t.length)throw new d(\"Width and height must match the pixels array\");let m=[];for(let s=0;s<l;s++)for(let o=0;o<n;o++){let a=o==0&&s==0?1:2,y=D(t,e,r,(B,R)=>a*Math.cos(Math.PI*o*B/e)*Math.cos(Math.PI*s*R/r));m.push(y)}let b=m[0],g=m.slice(1),i=\"\",u=n-1+(l-1)*9;i+=p(u,1);let c;if(g.length>0){let s=Math.max(...g.map(a=>Math.max(...a))),o=Math.floor(Math.max(0,Math.min(82,Math.floor(s*166-.5))));c=(o+1)/166,i+=p(o,1)}else c=1,i+=p(0,1);return i+=p($(b),4),g.forEach(s=>{i+=p(H(s,c),2)}),i},S=O;export{d as ValidationError,j as decode,S as encode,N as isBlurhashValid};\n//# sourceMappingURL=index.mjs.map","import imageIcon from './icons/image-duotone.svg';\nimport arrowIcon from './icons/arrow-fat-lines-left-duotone.svg';\nimport { breakpoints } from './src/img-breakpoints';\nimport { fetchUnsplashData } from './src/fetch-unsplash-data';\nimport { decode } from 'blurhash';\n\nexport function unsplashPageJS(settings) {\n\n  const default_settings = {\n      targetElement    : null,\n      className        : null,\n      unsplashDataUrl  : null,\n      utmSource        : null,\n      title            : null,\n      text             : null,\n      backLink         : null,\n      hidePhotoLink    : true,\n      cssModulesObj    : null\n    },\n    required_settings = ['targetElement', 'unsplashDataUrl', 'utmSource', 'title'];\n\n  settings = {...default_settings, ...settings};\n\n\n  try {\n\n    if(required_settings\n      .map(i => settings[i])\n      .filter(i => i !== null && i !== '').length !== required_settings.length) {\n\n      throw new Error( `I parametri ${required_settings.map(i => `\\`${i}\\``).join(',')} sono obbligatori` );\n    }\n\n\n    const cssClass = classname => settings.cssModulesObj? settings.cssModulesObj[classname] : classname;\n\n    settings.targetElement.innerHTML = `<div class=\"${cssClass('upContainer') + (settings.className? ` ${settings.className}` : '')}\"></div>`;\n    const container = settings.targetElement.querySelector('.' + cssClass('upContainer'));\n    container.innerHTML = `<div class=\"${cssClass('upLoaderWrapper')}\"><div class=\"${cssClass('upLoader')}\"></div></div>`;\n\n    fetchUnsplashData({unsplash_data_url: settings.unsplashDataUrl})\n      .then(photo => {\n\n        const pixels = decode(photo.blur_hash, container.offsetWidth, container.offsetHeight);\n\n        const canvas = document.createElement('canvas');\n        canvas.className = cssClass('upCanvas');\n        canvas.width = container.offsetWidth;\n        canvas.height = container.offsetHeight;\n        const ctx = canvas.getContext('2d');\n        const imageData = ctx.createImageData(container.offsetWidth, container.offsetHeight);\n        imageData.data.set(pixels);\n        ctx.putImageData(imageData, 0, 0);\n\n\n        container.insertAdjacentElement('afterbegin', canvas);\n\n        const formats = ['avif', 'webp', 'pjpg']; // `fm` parameter, in order of use\n\n        container.insertAdjacentHTML('beforeend',\n          '<picture>' +\n            breakpoints.map((brk, idx) => {\n\n              const is_last_brk = idx === breakpoints.length - 1;\n              return formats.map(fmt => {\n                const is_default_fmt = fmt === formats.at(-1);\n\n                // https://unsplash.com/documentation#supported-parameters\n                // https://docs.imgix.com/apis/rendering/size/w\n                // https://docs.imgix.com/apis/rendering/size/h\n                // https://docs.imgix.com/apis/rendering/size/ar\n                // https://docs.imgix.com/apis/rendering/size/fit\n                // https://docs.imgix.com/apis/rendering/size/crop\n                // https://docs.imgix.com/apis/rendering/format/q\n\n                let url = photo.base_url + (/\\?/.test(photo.base_url)? '&' : '?') +\n                  'fit=crop&crop=focalpoint' + // top, bottom, left, right, faces, focalpoint, edges, and entropy\n                  '&q=60' +\n                  `&w=${brk.w}&h=${brk.h}` +\n                  `&fm=${fmt}`;\n\n                if(is_last_brk && is_default_fmt) {\n\n                  return '<img ' +\n                    `class=\"${cssClass('unsplashPhoto')}\" `+\n                    `src=\"${url}\" `+\n                    `srcset=\"${url}${brk.dpr2? ` 1x, ${url}&dpr=2 2x` : ''}\" `+\n                    `alt=\"${photo.alt_description?? `${photo.author} / Unsplash`}\" `+\n                    `width=\"${brk.w}\" height=\"${brk.h}\">`;\n\n                } else {\n                  return '<source ' +\n                    `srcset=\"${url}${brk.dpr2? ` 1x, ${url}&dpr=2 2x` : ''}\" `+\n                    (!is_default_fmt? `type=\"image/${fmt}\" ` : '')+\n                    `media=\"${brk.mq}\" `+\n                    `width=\"${brk.w}\" height=\"${brk.h}\">`;\n                }\n              }).join('');\n            }).join('') +\n          '</picture>'\n        ); // end insert <picture>\n\n        const img = container.querySelector('.' + cssClass('unsplashPhoto'));\n        img.onload = () => {\n          container.querySelector('.' + cssClass('upLoaderWrapper')).remove();\n          container.classList.add(cssClass('show'));\n\n          container.insertAdjacentHTML('beforeend', `<div class=\"${cssClass('upMessageBox')}\">\n            <div class=\"${cssClass('upMessage')}\">\n              <h1>${settings.title}</h1>\n              ${settings.text? `<p>${settings.text}</p>` : ''}\n              ${settings.backLink ? `<p class=\"${cssClass('upBackLink')}\">${settings.backLink}</p>` : ''}\n\n              <div class=\"${cssClass('upArrowWrapper')}\" role=\"button\">\n                <img src=\"${arrowIcon}\" alt=\"Icona freccia\">\n              </div>\n            </div>\n\n            <div class=\"${cssClass('upCredits')}\">\n              <em>${photo.image_description}</em>\n              <span>Photo\n                <a href=\"${`${photo.author_profile}?utmSource=${settings.utmSource}&utm_medium=referral`}\">\n                  ${photo.author} / Unsplash\n                </a>\n              </span>\n            </div>\n          </div>\n          <div class=\"${cssClass('unsplashPhotoLink')}${settings.hidePhotoLink? ` ${cssClass('upShowOnHover')}` : ''}\">\n            <a href=\"${`${photo.unsplash_url}?utm_source=${settings.utmSource}&utm_medium=referral`}\" target=\"_blank\" rel=\"noopener noreferrer\">\n              <img src=\"${imageIcon}\" alt=\"Icona immagine\" />\n            </a>\n          </div>`);\n\n          container.querySelector('.' + cssClass('upArrowWrapper')).addEventListener('click', e => {\n            e.target.closest(`.${cssClass('upMessage')}`).classList.toggle(cssClass('hidden'));\n          }, false);\n\n        }; // end img.onload\n\n      }); // end .then\n\n  } catch(e) {\n    console.error( e ); // eslint-disable-line\n  }\n\n}\n","\nexport async function fetchUnsplashData(settings) {\n\n  const default_settings = {\n    unsplash_data_url: null\n  };\n\n  settings = {...default_settings, ...settings};\n\n  try {\n\n    if(!settings.unsplash_data_url) {\n      throw new Error( 'Unsplash data url must be defined' );\n    }\n\n    const imgData = await (async () => {\n      const response = await fetch(settings.unsplash_data_url);\n      if (!response.ok) {\n        /* eslint-disable no-console */\n        console.error('Ajax error on: ' + settings.unsplash_data_url);\n        console.error(response);\n        /* eslint-enable no-console */\n        throw new Error( `Loading error: ${response.status}` );\n      }\n      const data = await response.json();\n      return data;\n    })()\n      .then(data => {\n\n        // console.log(data);\n\n        // used data\n        return {\n          id                 : data.id,\n          color              : data.color,\n          width              : data.width,\n          height             : data.height,\n          // description        : data.description,\n          // location           : data.location.name,\n          alt_description    : data.alt_description,\n          date               : data.created_at,\n          base_url           : data.urls.raw,\n          unsplash_url       : data.links.html,\n          author             : data.user.name?? data.user.username,\n          author_profile     : data.user.links.html,\n          blur_hash          : data.blur_hash,\n          image_description  : (() => {\n            let location = data.location.name,\n              description = data.description?? data.alt_description;\n            if(data.description && location) {\n              location = (new RegExp(location, 'i')).test(description)? null : location;\n            }\n            return [description, location]\n              .filter(i => i != null).join (' / ');\n          })()\n\n        };\n      });\n\n    return imgData;\n\n  } catch(e) {\n    console.error( e ); // eslint-disable-line\n  }\n}\n","import { unsplashPageJS } from '../src/unsplash-page.js';\n\nunsplashPageJS({\n  targetElement    : document.getElementById('root'),\n  unsplashDataUrl  : window.location.origin.match('localhost')!== null ?\n    'http://localhost:8000/demo/demo-data.php' // local test\n    : 'https://primominuto.altervista.org/proxy/getUnsplashPhotos.php'\n  ,\n  utmSource        : 'vanilla-js-test',\n  title            : 'Message title',\n  text             : 'This is the message <strong>text</strong>',\n  backLink         : '<a href=\"https://github.com/massimo-cassandro/unsplash-page\">Back to repository home</a>',\n  hidePhotoLink    : true,\n  cssModulesObj    : null\n});\n"],"names":["breakpoints","name","mq","w","h","dpr2","ar","q","x","t","e","r","length","n","indexOf","f","Math","pow","max","min","trunc","M","F","abs","d","Error","constructor","super","this","message","z","L","floor","l","settings","required_settings","targetElement","className","unsplashDataUrl","utmSource","title","text","backLink","hidePhotoLink","cssModulesObj","map","i","filter","join","cssClass","classname","innerHTML","container","querySelector","async","unsplash_data_url","response","fetch","ok","console","error","status","json","then","data","id","color","width","height","alt_description","date","created_at","base_url","urls","raw","unsplash_url","links","html","author","user","username","author_profile","blur_hash","image_description","location","description","RegExp","test","fetchUnsplashData","photo","pixels","C","m","b","u","Array","o","a","substring","c","s","Uint8ClampedArray","y","B","R","P","G","cos","PI","T","V","I","E","decode","offsetWidth","offsetHeight","canvas","document","createElement","ctx","getContext","imageData","createImageData","set","putImageData","insertAdjacentElement","formats","insertAdjacentHTML","brk","idx","is_last_brk","fmt","is_default_fmt","at","url","onload","remove","classList","add","addEventListener","target","closest","toggle","unsplashPageJS","getElementById","window","origin","match"],"mappings":"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","x_google_ignoreList":[1]}